================================================================================
서울시 편의점 매출 분석 - 예측모델 및 인사이트 해석 가이드
================================================================================

작성일: 2025년 3분기 데이터 기준
분석 범위: 서울시 414개 행정동, 2022Q1~2025Q3 (15개 분기)

================================================================================
1. 06_예측모델.ipynb 해석 가이드
================================================================================

[1.1] 예측 모델이란?
--------------------------------------------------------------------------------
- 과거 데이터의 패턴을 학습하여 "새로운 조건에서 매출이 얼마일지" 예측하는 모델
- 입력: 점포수, 유동인구, 상권유형
- 출력: 예상 분기 매출 (억원)

예시)
  "강남역 근처에 출점하면 매출이 얼마나 될까?"
  → 점포수 15개, 유동인구 500만명, 발달상권 입력
  → 예상 매출 XX억원 출력


[1.2] 모델 성능 지표 해석
--------------------------------------------------------------------------------

① R² (결정계수)
   - 의미: 모델이 매출 변동을 얼마나 설명하는가
   - 범위: 0~1 (1에 가까울수록 좋음)
   - 해석 기준:
     * R² > 0.7: 높은 설명력 (좋음)
     * R² 0.5~0.7: 중간 설명력 (보통)
     * R² < 0.5: 낮은 설명력 (개선 필요)
   
   예) R² = 0.85 → 매출 변동의 85%를 점포수/유동인구/상권유형으로 설명 가능

② MAE (Mean Absolute Error, 평균절대오차)
   - 의미: 예측값과 실제값의 평균 오차
   - 단위: 억원
   - 해석: MAE = 2.5억원 → 평균적으로 실제 매출과 2.5억원 차이
   
③ MAPE (Mean Absolute Percentage Error, 평균백분율오차)
   - 의미: 오차를 백분율로 표현
   - 해석: MAPE = 15% → 평균적으로 실제 매출의 15% 정도 오차
   - 해석 기준:
     * MAPE < 10%: 매우 정확
     * MAPE 10~20%: 양호
     * MAPE > 20%: 개선 필요


[1.3] 예측 함수 사용법
--------------------------------------------------------------------------------

함수: predict_sales(점포수, 유동인구, 상권유형)

매개변수:
  - 점포수: 해당 행정동의 편의점 개수 (정수)
  - 유동인구: 분기 총 유동인구 (명, 정수)
  - 상권유형: '골목상권', '발달상권', '전통시장', '관광특구', '미분류' 중 선택

반환값:
  - 예상 분기 매출 (억원)

사용 예시:
  predict_sales(10, 3000000, '발달상권')
  → 점포 10개, 유동인구 300만명, 발달상권 조건에서 예상 매출 반환


[1.4] What-if 시나리오 분석 해석
--------------------------------------------------------------------------------

"유동인구가 변하면 매출은 얼마나 변할까?"를 분석

해석 예시:
  기준: 점포 8개, 유동인구 250만명, 골목상권 → 매출 10억원

  유동인구 +20% (300만명) → 매출 11.5억원 (+1.5억원, +15%)
  유동인구 -20% (200만명) → 매출 8.5억원 (-1.5억원, -15%)

활용:
  - 신도시 개발로 유동인구 증가 예상 시 → 매출 상승폭 예측
  - 재개발로 일시적 유동인구 감소 시 → 매출 감소폭 예측


[1.5] 상권유형 전환 효과 해석
--------------------------------------------------------------------------------

"같은 조건에서 상권유형만 다르면 매출이 얼마나 달라지나?"

해석 예시:
  조건: 점포 8개, 유동인구 250만명
  
  골목상권: 10.0억원 (기준)
  전통시장: 11.2억원 (+1.2억원)
  관광특구: 13.5억원 (+3.5억원)
  발달상권: 15.8억원 (+5.8억원)

의미:
  - 같은 점포수, 같은 유동인구라도 상권유형에 따라 최대 5.8억원 차이
  - 발달상권 입지 확보가 매출에 가장 유리


================================================================================
2. 07_인사이트.ipynb 해석 가이드
================================================================================

[2.1] 잔차(Residual)란?
--------------------------------------------------------------------------------

정의: 잔차 = 실제 매출 - 예측 매출

해석:
  - 잔차 > 0 (양수): 실제가 예측보다 높음 → 고평가 지역 (잘하고 있음)
  - 잔차 < 0 (음수): 실제가 예측보다 낮음 → 저평가 지역 (잠재력 있음)
  - 잔차 ≈ 0: 예측과 실제가 비슷 → 정상 지역

예시:
  A동: 예측 매출 12억, 실제 매출 8억 → 잔차 = -4억 (저평가)
  B동: 예측 매출 10억, 실제 매출 15억 → 잔차 = +5억 (고평가)


[2.2] 저평가 지역 해석
--------------------------------------------------------------------------------

정의: 예측 매출 > 실제 매출인 지역

의미:
  - 조건(유동인구, 상권유형)은 좋은데 매출이 낮음
  - "이 정도 조건이면 더 잘 팔려야 하는데..."
  
원인 추정:
  1. 운영 문제: 상품 구성, 서비스, 청결도 등
  2. 경쟁 문제: 인근에 강력한 경쟁 점포 존재
  3. 접근성 문제: 입지는 좋으나 가시성/접근성 낮음
  4. 시간대 문제: 피크 시간대 운영 미흡

활용:
  - 기존 점포: 운영 개선 포인트 점검
  - 신규 출점: 기존 점포 인수 또는 경쟁 진입 기회


[2.3] 고평가 지역 해석
--------------------------------------------------------------------------------

정의: 예측 매출 < 실제 매출인 지역

의미:
  - 조건 대비 매출이 높음
  - "조건이 이 정도인데 매출이 이렇게 높다고?"

원인 추정:
  1. 운영 우수: 뛰어난 점주, 상품 구성, 서비스
  2. 숨은 수요: 데이터에 안 잡히는 수요 존재 (예: 배달)
  3. 독점 효과: 경쟁 점포 부재
  4. 특수 요인: 학교, 병원, 군부대 등 고정 수요

활용:
  - 벤치마킹 대상: 성공 요인 분석
  - "왜 잘되는가?" → 다른 지역에 적용


[2.4] 점포당 유동인구 해석
--------------------------------------------------------------------------------

정의: 점포당 유동인구 = 총 유동인구 / 점포수

의미:
  - 높을수록 경쟁이 덜함 (점포 1개가 담당하는 잠재 고객이 많음)
  - 낮을수록 경쟁이 심함 (점포끼리 고객을 나눠 가짐)

해석 예시:
  A동: 유동인구 500만, 점포 10개 → 점포당 50만명 (경쟁 낮음)
  B동: 유동인구 500만, 점포 25개 → 점포당 20만명 (경쟁 높음)

활용:
  - 점포당 유동인구 높은 지역 = 신규 출점 유리
  - 점포당 유동인구 낮은 지역 = 진입 시 경쟁 각오


[2.5] 신규 출점 추천 점수 해석
--------------------------------------------------------------------------------

계산 방식:
  추천 점수 = (점포당 유동인구 순위 + 저평가 순위) / 2
  
  → 점수가 낮을수록 추천 (순위가 높을수록 좋으므로)

구성 요소:
  1. 점포당 유동인구 순위: 높을수록 경쟁 덜함
  2. 저평가 순위: 저평가될수록 잠재력 높음

해석:
  추천 점수 1위 = 경쟁도 덜하고 + 잠재력도 높은 최적 출점 후보

주의사항:
  - 이 점수는 "데이터 기반 추천"일 뿐
  - 실제 출점 시 현장 확인 필수 (임대료, 가시성, 접근성 등)


[2.6] 상권유형별 효율성 해석
--------------------------------------------------------------------------------

지표: 점포당 매출 = 총 매출 / 총 점포수

의미:
  - 해당 상권유형의 점포 1개가 평균적으로 버는 매출
  - 같은 노력 대비 수익이 얼마인가

해석 예시:
  발달상권 점포당 매출: 15억원
  골목상권 점포당 매출: 8억원
  
  → 발달상권 점포가 같은 1개 점포로 약 2배 매출

활용:
  - 효율성 높은 상권 = 투자 대비 수익률 높음
  - 단, 발달상권은 임대료도 높으므로 순이익은 별도 계산 필요


================================================================================
3. 결과 활용 가이드
================================================================================

[3.1] 신규 출점 의사결정
--------------------------------------------------------------------------------

Step 1: 후보 지역 선정
  → 07_인사이트의 "신규 출점 추천 TOP 15" 참고

Step 2: 예상 매출 산출
  → 06_예측모델의 predict_sales() 함수로 예상 매출 계산

Step 3: 수익성 검토
  → 예상 매출 - 예상 비용(임대료, 인건비, 물류비 등) = 예상 이익

Step 4: 현장 실사
  → 가시성, 접근성, 주차, 경쟁 점포 현황 확인


[3.2] 기존 점포 개선 의사결정
--------------------------------------------------------------------------------

Step 1: 내 점포 위치 확인
  → 저평가 지역인가? 고평가 지역인가?

Step 2-A: 저평가 지역인 경우
  → 조건 대비 매출이 낮음 = 개선 여지 있음
  → 점검 항목: 상품 구성, 서비스, 청결도, 운영 시간, 프로모션

Step 2-B: 고평가 지역인 경우
  → 현재 잘하고 있음 = 유지 + 확산
  → "왜 잘되는가?" 분석하여 다른 점포에 적용


[3.3] 주의사항
--------------------------------------------------------------------------------

1. 예측 모델의 한계
   - 포함되지 않은 변수: 임대료, 점주 역량, 브랜드, 경쟁 강도
   - 예측은 참고용, 실제 의사결정은 현장 확인 필수

2. 데이터 시점
   - 가장 최근 분기 데이터 기준
   - 시간이 지나면 상황 변화 가능

3. 상관관계 ≠ 인과관계
   - "점포수 많으면 매출 높다" → 점포가 많아서 매출이 높은 건지,
     매출이 높아서 점포가 많이 생긴 건지 구분 불가

4. 평균의 함정
   - 상권유형별 "평균"이므로 개별 점포는 다를 수 있음
   - 같은 발달상권이라도 점포마다 편차 존재


================================================================================
4. 용어 정리
================================================================================

| 용어              | 의미                                          |
|-------------------|-----------------------------------------------|
| 잔차              | 실제 매출 - 예측 매출                          |
| 저평가 지역       | 잔차 < 0, 조건 대비 매출 낮음, 잠재력 있음     |
| 고평가 지역       | 잔차 > 0, 조건 대비 매출 높음, 벤치마킹 대상   |
| 점포당 유동인구   | 총 유동인구 / 점포수, 높을수록 경쟁 덜함       |
| R² (결정계수)     | 모델 설명력, 1에 가까울수록 좋음               |
| MAE               | 평균 예측 오차 (억원)                          |
| MAPE              | 평균 예측 오차율 (%)                           |
| What-if 분석      | "만약 ~하면?" 시나리오 시뮬레이션              |


================================================================================
5. 파일 목록
================================================================================

[노트북]
  01_전처리.ipynb   - 데이터 통합 및 변수 생성
  02_EDA.ipynb      - 가설별 탐색적 분석
  03_시각화.ipynb   - 가설별 시각화
  04_회귀분석.ipynb - 가설 통계 검증
  05_해석.ipynb     - 01~04 결과 해석
  06_예측모델.ipynb - 매출 예측, What-if 분석
  07_인사이트.ipynb - 저평가/고평가/출점 추천

[데이터]
  분석데이터.csv    - 전처리 완료된 분석용 데이터

[결과물] (07_인사이트 실행 후 생성)
  outputs/저평가지역_TOP15.csv
  outputs/고평가지역_TOP15.csv
  outputs/출점추천지역_TOP15.csv

[시각화] (03_시각화, 06_예측모델, 07_인사이트 실행 후 생성)
  outputs/*.png

================================================================================
끝.
================================================================================
